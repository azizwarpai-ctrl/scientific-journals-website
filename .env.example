# Database Migration Environment Configuration

# Copy this file to .env and update with your actual values

# =====================================================
# MAIN APPLICATION DATABASE (MySQL)
# =====================================================

# Full connection URL (Option 1 - Recommended for Prisma)
DATABASE_URL="mysql://root:root@localhost:3306/scientific_journals"

# Individual connection parameters (Option 2 - For manual connections)
DATABASE_HOST="localhost"
DATABASE_PORT="3306"
DATABASE_NAME="scientific_journals"
DATABASE_USER="root"
DATABASE_PASSWORD="root"

# =====================================================
# OJS DATABASE (MySQL - Read-Only Access)
# =====================================================

# Full OJS connection URL
OJS_DATABASE_URL="mysql://<readonly_user>:<password>@<host>:<port>/ojs_db"

# Individual OJS connection parameters
OJS_DATABASE_HOST="localhost"
OJS_DATABASE_PORT="3306"
OJS_DATABASE_NAME="ojs_db"
OJS_DATABASE_USER="ojs_readonly"
OJS_DATABASE_PASSWORD="readonly_user_password"

# =====================================================
# OJS SYNC CONFIGURATION
# =====================================================

# Enable/disable OJS synchronization
OJS_SYNC_ENABLED="true"

# How often to sync (in minutes) - used by cron jobs
OJS_SYNC_INTERVAL_MINUTES="360" # 6 hours

# =====================================================
# APPLICATION SETTINGS
# =====================================================

# Node environment
NODE_ENV="development"

# Application URL
NEXT_PUBLIC_APP_URL="http://localhost:3000"

# =====================================================
# AUTHENTICATION (If using external auth)
# =====================================================

# JWT secret for session handling
JWT_SECRET="your_jwt_secret_here_change_in_production"

# Session expiry (in seconds)
SESSION_EXPIRY="86400" # 24 hours

# =====================================================
# FILE UPLOAD SETTINGS
# =====================================================

# Maximum file size for uploads (in MB)
MAX_FILE_SIZE_MB="50"

# Allowed file types
ALLOWED_FILE_TYPES="pdf,doc,docx,txt,jpg,png"

# Upload directory
UPLOAD_DIR="./uploads"

# =====================================================
# NOTES FOR MIGRATION
# =====================================================

# 1. Create databases first:
#    CREATE DATABASE scientific_journals CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;
#
# 2. Create MySQL users:
#    CREATE USER 'app_user'@'localhost' IDENTIFIED BY 'password';
#    GRANT ALL PRIVILEGES ON scientific_journals.* TO 'app_user'@'localhost';
#    
#    CREATE USER 'ojs_readonly'@'localhost' IDENTIFIED BY 'readonly_password';
#    GRANT SELECT ON ojs_db.* TO 'ojs_readonly'@'localhost';
#    FLUSH PRIVILEGES;
#
# 3. Run migrations:
#    mysql -u app_user -p scientific_journals < scripts/001_create_tables.sql
#    mysql -u app_user -p scientific_journals < scripts/002_insert_sample_data.sql
#
# 4. Generate Prisma client:
#    npx prisma generate
#
# 5. Test connections:
#    bun run scripts/verify-mysql-connection.ts
#    bun run scripts/verify-ojs-connection.ts
